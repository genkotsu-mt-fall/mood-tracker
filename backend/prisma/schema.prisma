// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  // output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             String  @id @default(uuid()) @db.Uuid
  email          String  @unique
  name           String?
  hashedPassword String
  posts          Post[]
}

model Post {
  id     String @id @default(uuid()) @db.Uuid
  userId String @db.Uuid
  user   User   @relation(fields: [userId], references: [id])

  /// æ°—åˆ†ã‚’è¡¨ã™ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä¾‹: "happy", "sad" ãªã©ï¼‰
  mood String?

  /// æ°—åˆ†ã®å¼·ã•ï¼ˆ1ã€œ10 ãªã©ã®æ•°å€¤ã‚¹ã‚³ã‚¢ï¼‰
  intensity Int?

  /// æŠ•ç¨¿æœ¬æ–‡
  body String

  /// æ°—åˆ†ã«å¯¾å¿œã™ã‚‹çµµæ–‡å­—ï¼ˆä¾‹: ğŸ˜Šï¼‰
  emoji String?

  /// ä½¿ç”¨ã•ã‚ŒãŸæŠ•ç¨¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ID
  templateId String? @db.Uuid

  /// å…¬é–‹è¨­å®šæƒ…å ±ï¼ˆãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼é™å®šãƒ»ãƒ–ãƒ­ãƒƒã‚¯ãƒªã‚¹ãƒˆãªã©ï¼‰ã‚’JSONå½¢å¼ã§ä¿æŒ
  privacyJson Json?

  /// ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼é™å®šã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°
  followersOnly Boolean

  /// ç›¸äº’ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼é™å®šã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°
  followBackOnly Boolean

  /// æŠ•ç¨¿é–²è¦§ã«å¿…è¦ãªæœ€å°ãƒ•ã‚©ãƒ­ãƒ¼æ—¥æ•°
  minFollowDays Int?

  /// æŠ•ç¨¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹çµ‚äº†æ—¥æ™‚ï¼ˆæŒ‡å®šãŒã‚ã‚Œã°æ™‚é™å…¬é–‹ï¼‰
  visibleUntil DateTime?

  /// æŠ•ç¨¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹é–‹å§‹æ—¥æ™‚ï¼ˆäºˆç´„æŠ•ç¨¿æ©Ÿèƒ½ï¼‰
  visibleAfter DateTime?

  /// ç·Šæ€¥ãƒ•ãƒ©ã‚°ï¼ˆè‡ªå‚·ç­‰ã®å…†å€™ãŒã‚ã‚‹ãªã©æ³¨æ„ã‚’è¦ã™ã‚‹å ´åˆã«trueï¼‰
  crisisFlag Boolean

  /// æŠ•ç¨¿ä½œæˆæ—¥æ™‚ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç¾åœ¨æ™‚åˆ»ï¼‰
  createdAt DateTime @default(now())

  /// æŠ•ç¨¿æ›´æ–°æ—¥æ™‚
  updatedAt DateTime @updatedAt
}
